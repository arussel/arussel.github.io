<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 500">
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#666"/>
    </marker>
  </defs>

  <!-- Background -->
  <rect width="900" height="500" fill="#fafafa"/>

  <!-- Boxes -->
  <!-- Users -->
  <rect x="50" y="40" width="120" height="60" rx="8" fill="#e3f2fd" stroke="#1976d2" stroke-width="2"/>
  <text x="110" y="75" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#1976d2">Users</text>

  <!-- Solana -->
  <rect x="250" y="40" width="160" height="60" rx="8" fill="#e8f5e9" stroke="#388e3c" stroke-width="2"/>
  <text x="330" y="68" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#388e3c">Solana</text>
  <text x="330" y="85" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#666">(On-chain)</text>

  <!-- Keeper -->
  <rect x="500" y="40" width="140" height="60" rx="8" fill="#fff3e0" stroke="#f57c00" stroke-width="2"/>
  <text x="570" y="68" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#f57c00">Keeper</text>
  <text x="570" y="85" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#666">(CLI/Bot)</text>

  <!-- Switchboard -->
  <rect x="720" y="40" width="140" height="60" rx="8" fill="#fce4ec" stroke="#c2185b" stroke-width="2"/>
  <text x="790" y="68" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#c2185b">Switchboard</text>
  <text x="790" y="85" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#666">(Oracle TEE)</text>

  <!-- Vertical lines -->
  <line x1="110" y1="100" x2="110" y2="460" stroke="#1976d2" stroke-width="2" stroke-dasharray="5,5"/>
  <line x1="330" y1="100" x2="330" y2="460" stroke="#388e3c" stroke-width="2" stroke-dasharray="5,5"/>
  <line x1="570" y1="100" x2="570" y2="460" stroke="#f57c00" stroke-width="2" stroke-dasharray="5,5"/>
  <line x1="790" y1="100" x2="790" y2="460" stroke="#c2185b" stroke-width="2" stroke-dasharray="5,5"/>

  <!-- Flow arrows and labels -->
  <!-- 1. enter_ticket -->
  <line x1="115" y1="130" x2="320" y2="130" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="217" y="123" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#333">enter_ticket</text>
  <text x="330" y="145" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#888">(Open Lotto)</text>

  <!-- 2. randomnessInit -->
  <line x1="565" y1="180" x2="340" y2="180" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="452" y="173" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#333">randomnessInit</text>
  <text x="330" y="195" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#888">(Switchboard program)</text>

  <!-- 3. randomnessCommit -->
  <line x1="565" y1="230" x2="340" y2="230" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="452" y="223" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#333">randomnessCommit</text>
  <text x="330" y="245" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#888">(Switchboard program)</text>

  <!-- 4. draw_lottery -->
  <line x1="565" y1="280" x2="340" y2="280" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="452" y="273" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#333">draw_lottery</text>
  <text x="330" y="295" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#888">(Open Lotto)</text>

  <!-- 5. randomnessReveal -->
  <line x1="785" y1="340" x2="340" y2="340" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="562" y="333" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#333">randomnessReveal</text>
  <text x="330" y="355" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#888">(Switchboard program)</text>

  <!-- 6. settle_lottery -->
  <line x1="565" y1="390" x2="340" y2="390" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="452" y="383" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#333">settle_lottery</text>
  <text x="330" y="405" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#888">(Open Lotto)</text>

  <!-- 7. claim_prize -->
  <line x1="115" y1="440" x2="320" y2="440" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="217" y="433" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#333">claim_prize</text>
  <text x="330" y="455" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#888">(Open Lotto)</text>
</svg>
